<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>NeoCart AR Navigation</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .store-map {
      background: url('https://cdn.pixabay.com/photo/2020/12/11/13/27/store-5822969_1280.jpg') no-repeat center center;
      background-size: cover;
      position: relative;
      height: 600px;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      overflow: hidden;
    }

    .dot, .destination {
      width: 20px;
      height: 20px;
      border-radius: 50%;
      position: absolute;
      z-index: 10;
    }

    .dot {
      background-color: #3B82F6;
      box-shadow: 0 0 12px #3B82F6;
      transition: all 0.8s ease-in-out;
    }

    .destination {
      background-color: #10B981;
      box-shadow: 0 0 10px #10B981aa;
    }

    .aisle-label {
      position: absolute;
      font-size: 12px;
      background: rgba(255,255,255,0.85);
      border: 1px solid #ccc;
      border-radius: 6px;
      padding: 2px 6px;
      z-index: 5;
      font-weight: bold;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">

  <div class="max-w-5xl mx-auto px-6 py-12">
    <h1 class="text-4xl font-bold text-gray-800 mb-4">ðŸ›’ NeoCart: In-Store Navigation with Smart Routing</h1>
    <p class="text-gray-600 mb-6">Simulate a smart path to your desired product through interactive aisles using AR navigation.</p>

    <!-- Input field -->
    <div class="mb-6 flex gap-4">
      <input id="productInput" type="text" placeholder="Enter a product (e.g. baby food, eggs, makeup)" class="border border-gray-300 rounded-md px-4 py-2 w-full md:w-1/2" />
      <button onclick="startNavigation()" class="bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700">Start Navigation</button>
      <button onclick="resetNavigation()" class="bg-gray-300 text-gray-700 px-6 py-2 rounded-md hover:bg-gray-400">Reset</button>
    </div>

    <!-- Store map layout -->
    <div class="store-map" id="storeMap">
      <!-- Dot & destination marker -->
      <div class="dot" id="dot" style="top: 85%; left: 10%;"></div>
      <div class="destination" id="destDot" style="top: 20%; left: 75%; display: none;"></div>

      <!-- Aisle Labels -->
      <div class="aisle-label" style="top: 88%; left: 12%;">Entrance</div>
      <div class="aisle-label" style="top: 60%; left: 28%;">Aisle 2</div>
      <div class="aisle-label" style="top: 45%; left: 50%;">Aisle 4</div>
      <div class="aisle-label" style="top: 25%; left: 72%;">Destination</div>
    </div>
  </div>

  <!-- JS Navigation Logic -->
  <script>
    const dot = document.getElementById("dot");
    const destDot = document.getElementById("destDot");

    const aisleMap = {
      "baby food": [
        { top: "85%", left: "10%" },  // Entrance
        { top: "60%", left: "28%" },  // Aisle 2
        { top: "45%", left: "50%" },  // Aisle 4
        { top: "20%", left: "75%" }   // Final
      ],
      "makeup": [
        { top: "85%", left: "10%" },
        { top: "60%", left: "28%" },
        { top: "40%", left: "65%" },
        { top: "25%", left: "80%" }
      ],
      "eggs": [
        { top: "85%", left: "10%" },
        { top: "65%", left: "35%" },
        { top: "50%", left: "55%" },
        { top: "30%", left: "68%" }
      ]
    };

    function startNavigation() {
      const input = document.getElementById("productInput").value.toLowerCase().trim();
      const route = aisleMap[input];

      if (!route) {
        alert("We couldn't find that product. Try: baby food, makeup, eggs");
        return;
      }

      dot.style.top = route[0].top;
      dot.style.left = route[0].left;

      destDot.style.display = "block";
      destDot.style.top = route[route.length - 1].top;
      destDot.style.left = route[route.length - 1].left;

      let step = 1;
      const interval = setInterval(() => {
        if (step >= route.length) {
          clearInterval(interval);
        } else {
          dot.style.top = route[step].top;
          dot.style.left = route[step].left;
          step++;
        }
      }, 1000);
    }

    function resetNavigation() {
      dot.style.top = "85%";
      dot.style.left = "10%";
      destDot.style.display = "none";
      document.getElementById("productInput").value = "";
    }
  </script>

</body>
</html>
